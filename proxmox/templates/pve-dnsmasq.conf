# If you want dnsmasq to change uid and gid to something other
# than the default, edit the following lines.
#user=dnsmasq
#group=dnsmasq
# Note:
# pve / proxmox IP = 192.168.1.74
# secound subnet for VMs 192.168.60.x 
# use "52:50:56:11:11:22" as the mac address of your infra node

conf-dir=/etc/dnsmasq.d,.rpmnew,.rpmsave,.rpmorig
listen-address=::1,127.0.0.1,192.168.60.1,192.168.1.74

strict-order
domain=home.lab

resolv-file=/etc/resolv.dnsmasq

interface=vmbr1
dhcp-boot=pxelinux.0,infra,192.168.60.10
dhcp-authoritative
dhcp-range=192.168.60.2,192.168.60.250,255.255.255.0,1440m
# Gateway
dhcp-option=3,192.168.60.1


# ocp
dhcp-host=b8:ca:3a:6e:1d:d0,pve,192.168.1.74,infinite
dhcp-host=52:50:56:11:11:11,bootstrap11,192.168.60.120,infinite
dhcp-host=52:50:56:11:22:11,master0,192.168.60.121,infinite
dhcp-host=52:50:56:11:22:22,master1,192.168.60.122,infinite
dhcp-host=52:50:56:11:22:33,master2,192.168.60.123,infinite
dhcp-host=52:50:56:11:33:11,worker0,192.168.60.111,infinite
dhcp-host=52:50:56:11:33:22,worker1,192.168.60.112,infinite
dhcp-host=52:50:56:11:33:33,worker2,192.168.60.113,infinite
dhcp-host=52:50:56:11:11:22,infra,192.168.60.10,infinite


stop-dns-rebind
cache-size=1500


# ocp
address=/pve/192.168.1.74
address=/api-int.ocp4.home.lab/192.168.60.10
address=/api.ocp4.home.lab/192.168.60.10
address=/*/apps.ocp4.home.lab/192.168.60.10
address=/bootstrap11.home.lab/192.168.60.120
address=/master0.ocp4.home.lab/192.168.60.121
address=/master1.ocp4.home.lab/192.168.60.122
address=/master2.ocp4.home.lab/192.168.60.123
address=/master0.home.lab/192.168.60.121
address=/master1.home.lab/192.168.60.122
address=/master2.home.lab/192.168.60.123
address=/worker0.home.lab/192.168.60.111
address=/worker1.home.lab/192.168.60.112
address=/worker2.home.lab/192.168.60.113
address=/infra.home.lab/192.168.60.10
